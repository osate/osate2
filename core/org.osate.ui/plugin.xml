<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <!-- analysis extension point will be removed in 2.3.6. -->
   <extension-point id="analysis" name="Analysis" schema="schema/analysis.exsd"/>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            id="org.osate.internal.ui.preferences.OsatePreferencePage"
            name="OSATE"
            class="org.osate.ui.preferences.BlankPreferencePage">
      </page>
      <page
      		id="org.osate.ui.preferences.OsateAnalysisPage"
      		category="org.osate.internal.ui.preferences.OsatePreferencePage"
      		name="Analysis"
      		class="org.osate.ui.preferences.BlankPreferencePage">
      </page>
      <page
      		id="org.osate.ui.preferences.OsateInstantiationPage"
      		category="org.osate.internal.ui.preferences.OsatePreferencePage"
      		name="Instantiation"
      		class="org.osate.internal.ui.preferences.InstantiationPreferencePage">
      </page>
   </extension>
   
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            class="org.osate.ui.properties.BlankPropertyPage"
            id="org.osate.ui.properties.OSATE"
            name="OSATE">
         <enabledWhen>
            <adapt type="org.eclipse.core.resources.IProject">
               <test property="org.eclipse.core.resources.projectNature" 
                     value="org.osate.core.aadlnature"/>
            </adapt>         
         </enabledWhen>
      </page>
      <page
            class="org.osate.internal.ui.properties.InstantiationPropertyPage"
            category="org.osate.ui.properties.OSATE"
            id="org.osate.internal.ui.properties.InstantiationPropertyPage"
            name="Instantiation">
         <enabledWhen>
            <adapt type="org.eclipse.core.resources.IProject">
               <test property="org.eclipse.core.resources.projectNature" 
                     value="org.osate.core.aadlnature"/>
            </adapt>         
         </enabledWhen>
      </page>
   </extension>
   
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="org.osate.Wizard.category.ID"
            name="%_Aadl_Wizard_category">
      </category>
      <category
            id="org.osate.Wizard.category.examples"
            name="AADL Examples"
            parentCategory="org.eclipse.ui.Examples">
      </category>
      <wizard
            id="org.osate.ui.wizards.AadlProjectWizardID"
            name="%_UI_AadlProjectWizard_label"
            icon="icons/new_aadl_project.gif"
            category="org.osate.Wizard.category.ID"
            class="org.osate.ui.wizards.AadlProjectWizard"
            preferredPerspectives="org.osate.ui.perspective.AadlPerspective"
            finalPerspective="org.osate.ui.perspective.AadlPerspective"
            project="true">
         <description>
            %_UI_AadlProjectWizard_description
         </description>
         <selection
               class="org.eclipse.core.resources.IResource">
         </selection>
      </wizard>
      <wizard
            id="org.osate.ui.NewAadlPackageWizard"
            name="AADL Package"
            icon="icons/new_package.gif"
            category="org.osate.Wizard.category.ID"
            class="org.osate.ui.wizards.NewAadlPackageWizard">
         <description>
            Create a new AADL package
         </description>
         <selection
               class="org.eclipse.core.resources.IResource">
         </selection>
      </wizard>
      <wizard
            id="org.osate.ui.NewPropertySetWizard"
            name="AADL Property Set"
            icon="icons/new_ps.gif"
            category="org.osate.Wizard.category.ID"
            class="org.osate.ui.wizards.NewPropertySetWizard">
         <description>
            Create a new AADL property set
         </description>
         <selection
               class="org.eclipse.core.resources.IResource">
         </selection>
      </wizard>
   </extension>

   <extension
         id="UnparseObjectMarker"
         name="Unparse Marker"
         point="org.eclipse.core.resources.markers">
      <super type="org.osate.aadl2.modelsupport.AadlObjectMarker"/>
      <persistent value="true"/>
   </extension>

   <extension
         id="XMLErrorMarker"
         name="XML Read Error Marker"
         point="org.eclipse.core.resources.markers">
      <super type="org.osate.aadl2.modelsupport.AadlObjectMarker"/>
      <persistent value="true"/>
   </extension>
   
   <extension
         point="org.eclipse.ui.views">
      <category
      		id="aadl.view_category"
      		name="%aadl_view_category.label"/>
      <view
            category="aadl.view_category"
            class="org.eclipse.ui.navigator.resources.ProjectExplorer"
            icon="icons/aadlNav.gif"
            id="org.osate.ui.navigator.AadlNavigator"
            name="AADL Navigator"/>
   </extension>
   
	<extension
         point="org.eclipse.ui.navigator.viewer">
		<viewerContentBinding 
            viewerId="org.osate.ui.navigator.AadlNavigator">
			<includes>
   				<contentExtension pattern="org.eclipse.ui.navigator.resources.workingSets" />
				<contentExtension pattern="org.eclipse.ui.navigator.resourceContent" />     	      
				<contentExtension pattern="org.eclipse.ui.navigator.resources.filters.*"/>
    			<contentExtension pattern="org.osate.ui.navigator.contributedAadl" />
			    <contentExtension pattern="org.osate.ui.navigator.aadlProjectDependencies" />
    			<contentExtension pattern="org.osate.ui.navigator.aadlFileContent" />
			    <contentExtension pattern="org.osate.ui.navigator.menuActions" />
				<contentExtension pattern="org.osate.ui.navigator.AadlNavigatorLinkHelper" />
    <contentExtension
          pattern="org.osate.ui.navigator viewerRefresher">
    </contentExtension>
			</includes>
		</viewerContentBinding>
  		<viewerActionBinding
        	viewerId="org.osate.ui.navigator.AadlNavigator">
     		<includes>
     			<actionExtension pattern="org.eclipse.ui.navigator.resources.*" />
     			<actionExtension pattern="org.osate.ui.navigator.*" />
     		</includes>
	  </viewerActionBinding>
   </extension>

	<extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            activeByDefault="true"
            contentProvider="org.osate.ui.navigator.AadlContributionContentProvider"
            id="org.osate.ui.navigator.contributedAadl"
            labelProvider="org.osate.ui.navigator.AadlContributionLabelProvider"
            name="Contributed AADL Packages and Property Sets">
         <enablement>
            <instanceof
                  value="org.eclipse.core.resources.IProject">
            </instanceof>
         </enablement>
         <commonSorter
               class="org.osate.ui.navigator.AadlContributionSorter">
         </commonSorter>
      </navigatorContent>
      <navigatorContent
            activeByDefault="true"
            contentProvider="org.osate.ui.navigator.AadlProjectDependenciesContentProvider"
            id="org.osate.ui.navigator.aadlProjectDependencies"
            labelProvider="org.osate.ui.navigator.AadlProjectDependenciesLabelProvider"
            name="AADL Project Dependencies">
         <enablement>
         	<or>
            	<instanceof value="org.eclipse.core.resources.IProject" />
            	<instanceof value="org.osate.ui.navigator.VirtualProjectDependencies" />
            </or>
         </enablement>
         <commonSorter
               class="org.osate.ui.navigator.AadlProjectDependenciesSorter">
         </commonSorter>
      </navigatorContent>
      <navigatorContent
            activeByDefault="true"
            contentProvider="org.osate.ui.navigator.AadlElementContentProvider"
            id="org.osate.ui.navigator.aadlFileContent"
            labelProvider="org.osate.ui.navigator.AadlElementLabelProvider"
            name="Expanded Content of AADL Files">
         <enablement>
            <or>
               <and>
                  <instanceof
                        value="org.eclipse.core.resources.IFile">
                  </instanceof>
                  <and>
                     <or>
                        <test
                              property="org.eclipse.core.resources.extension"
                              value="aadl">
                        </test>
                        <test
                              property="org.eclipse.core.resources.contentTypeId"
                              value="org.osate.core.instanceModelFile">
                        </test>
                     </or>
                  </and>
               </and>
               <instanceof
                     value="org.osate.xtext.aadl2.ui.resource.ContributedAadlStorage">
               </instanceof>
            </or>
          </enablement>
         <commonSorter
               class="org.osate.ui.navigator.AadlElementSorter">
         </commonSorter>
      </navigatorContent>
      <navigatorContent
            activeByDefault="true"
            id="org.osate.ui.navigator.menuActions"
            name="AADL Navigator Menu Actions"
            sortOnly="true">
         <enablement>
            <instanceof
                  value="java.lang.Object">
            </instanceof>
         </enablement>
         <commonWizard
               type="new"
               wizardId="org.osate.ui.NewPropertySetWizard">
            <enablement>
               <adapt
                     type="org.eclipse.core.resources.IResource">
               </adapt>
            </enablement>
         </commonWizard>
         <commonWizard
               type="new"
               wizardId="org.osate.ui.NewAadlPackageWizard">
            <enablement>
               <adapt
                     type="org.eclipse.core.resources.IResource">
               </adapt>
            </enablement>
         </commonWizard>
         <actionProvider
               class="org.osate.ui.navigator.NewAadlProjectActionProvider"
               id="org.osate.ui.navigator.newAadlProject">
         </actionProvider>
      </navigatorContent>
      <actionProvider
            class="org.osate.ui.navigator.AadlNavigatorActionProvider"
            id="org.osate.ui.navigator.openContributedAndDeclarativeObject">
			<enablement>
			    <or>
			        <instanceof value="org.osate.xtext.aadl2.ui.resource.ContributedAadlStorage" />
			        <and>
						<instanceof value="org.osate.aadl2.Element" />
			        </and>
			    </or>
         </enablement>
      </actionProvider>
      <actionProvider
            class="org.osate.ui.navigator.AadlProjectDependenciesActionProvider"
            id="org.osate.ui.navigator.editDependencies">
         <enablement>
        	 <or>
		         <and>
		            <instanceof value="org.eclipse.core.resources.IProject" />
		            <test property="org.eclipse.core.resources.open" />
		            <test
		                  property="org.eclipse.core.resources.projectNature"
		                  value="org.osate.core.aadlnature" />
		         </and>
		         
		         <instanceof value="org.osate.ui.navigator.VirtualProjectDependencies" />
		         <instanceof value="org.osate.ui.navigator.VirtualProjectNode" />
		     </or>
         </enablement>
      </actionProvider>
      <navigatorContent
            contentProvider="org.osate.ui.navigator.ViewerRefresher"
            id="org.osate.ui.navigator viewerRefresher"
            labelProvider="org.osate.ui.navigator.NullLabelProvider"
            name="Viewer Refresher">
         <enablement>
            <instanceof
                  value="org.eclipse.core.resources.IProject">
            </instanceof>
         </enablement>
      </navigatorContent>
   </extension>
   
   <extension 
        point="org.eclipse.ui.perspectives"> 
        <perspective 
        	id="org.osate.ui.perspective.AadlPerspective"
            name="AADL" 
            class="org.osate.ui.perspective.AadlPerspectiveFactory" 
            icon="icons/aadl.gif"> 
        </perspective> 
    </extension>
    
    <extension
    	point="org.eclipse.ui.perspectiveExtensions">
    	<perspectiveExtension
    		targetID="org.eclipse.ui.resourcePerspective">
    		<perspectiveShortcut
    			id="org.osate.ui.perspective.AadlPerspective"/>
    	</perspectiveExtension>
    	<perspectiveExtension
    		targetID="org.eclipse.team.cvs.ui.cvsPerspective">
    		<perspectiveShortcut
    			id="org.osate.ui.perspective.AadlPerspective"/>
    	</perspectiveExtension>
    	<perspectiveExtension
    		targetID="org.eclipse.team.ui.TeamSynchronizingPerspective">
    		<perspectiveShortcut
    			id="org.osate.ui.perspective.AadlPerspective"/>
    	</perspectiveExtension>
    </extension>
    
    <!--extension
       point="org.eclipse.ui.exportWizards">
       <wizard
       	  id="org.osate.ui.wizards.exportTextWizard"
       	  name="Aadl Text"
       	  class="org.osate.ui.wizards.AadlTextExportWizard"
       	  icon="icons/makeaadltext.gif">
       	  <description>
       	     Exports an XML AADL Model to AADL Text.
       	  </description>
       </wizard>
    </extension-->
   <extension
         point="org.eclipse.ui.exportWizards">
      <wizard
            category="org.eclipse.ui.Basic"
            class="org.osate.ui.wizards.workingsets.WorkingSetExportWizard"
            icon="icons/workingsets/workingSets2.gif"
            id="org.osate.ui.workingSetExportWizard"
            name="Working Sets">
         <description>
            Exports working sets.
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <wizard
            category="org.eclipse.ui.Basic"
            class="org.osate.ui.wizards.workingsets.WorkingSetImportWizard"
            icon="icons/workingsets/workingSets.gif"
            id="org.osate.ui.workingSetImportWizard"
            name="Working Sets">
         <description>
            Imports working sets.
         </description>
      </wizard>
   </extension>
   <extension
         id="org.osate.views"
         point="org.eclipse.ui.views">
      <category
      		id="aadl.view_category"
      		name="%aadl_view_category.label"/>
      <view
            category="aadl.view_category"
            class="org.osate.ui.views.LoggerView"
            icon="icons/aadl.gif"
            id="org.osate.ui.logger_view"
            name="%osate_logger_view.label">
      </view>
   </extension>
   
    <extension
          point="org.eclipse.ui.navigator.linkHelper">
       <linkHelper
             class="org.osate.ui.navigator.AadlNavigatorLinkHelper"
             id="org.osate.ui.navigator.AadlNavigatorLinkHelper">
          <selectionEnablement>
          <or>
             <instanceof value="org.eclipse.core.resources.IFile"/>
             <instanceof value="org.osate.xtext.aadl2.ui.resource.ContributedAadlStorage"/>
             <instanceof value="org.osate.aadl2.AadlPackage"/>
             <instanceof value="org.osate.aadl2.AnnexLibrary"/>
             <instanceof value="org.osate.aadl2.Classifier"/>
             <instanceof value="org.osate.aadl2.AnnexSubclause"/>
             <instanceof value="org.osate.aadl2.PropertySet"/>
             <instanceof value="org.osate.aadl2.Property"/>
             <instanceof value="org.osate.aadl2.PropertyConstant"/>
             <instanceof value="org.osate.aadl2.PropertyType"/>
             <instanceof
                   value="org.osate.aadl2.instance.InstanceObject">
             </instanceof>
           </or>
          </selectionEnablement>
          <editorInputEnablement>
          <or>
             <instanceof value="org.eclipse.ui.IFileEditorInput"/>
             <instanceof
                   value="org.osate.xtext.aadl2.ui.editor.ContributedAadlEditorInput">
             </instanceof>
           </or>
          </editorInputEnablement>
       </linkHelper>
    </extension>

     <extension
        point="org.eclipse.ui.newWizards">
     <wizard
           category="org.eclipse.ui.Examples/org.osate.Wizard.category.examples"
           class="org.osate.ui.wizards.AadlExamplesWizard"
           icon="icons/aadl.gif"
           id="org.osate.wizard.examples"
           name="AADL Examples"
           project="true">
     </wizard>
     </extension>

    <extension point="org.eclipse.core.expressions.definitions">
       <definition id="org.osate.is_aadl_project_propertyset">
          <or>
             <adapt type="org.eclipse.core.resources.IResource">
                <test property="org.eclipse.core.resources.name"
                     value="AADL_Project.aadl">
                </test>
             </adapt>
             <adapt
                   type="org.osate.xtext.aadl2.ui.resource.ContributedAadlStorage">
                <test
                      property="org.osate.ui.name"
                      value="AADL_Project.aadl"
                      forcePluginActivation="true">
                </test>
             </adapt>
          </or>
       </definition>
    </extension>
    <extension
          point="org.eclipse.ui.menus">
       <menuContribution
             locationURI="popup:org.osate.xtext.aadl2.ui.outline?after=additions">
          <separator
                name="osate_begin"
                visible="true">
          </separator>
          <command
                commandId="org.osate.ui.instantiate">
             <visibleWhen
                   checkEnabled="true">
             </visibleWhen>
          </command>
          <menu
                id="org.osate.ui.analysesOutlinePopup"
                label="Analyses">
             <menu
                   id="org.osate.ui.semanticChecksOutlinePopup"
                   label="Semantic Checks">
                <separator
                      name="code_generation">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <separator
                   name="third_party">
             </separator>
          </menu>
          <menu
                id="org.osate.ui.ocarinaOutlinePopup"
                label="Ocarina">
             <separator
                   name="core">
             </separator>
             <separator
                   name="third_party">
             </separator>
          </menu>
          <separator
                name="osate_end"
                visible="true">
          </separator>
       </menuContribution>
       <menuContribution
             locationURI="popup:org.osate.ui.navigator.AadlNavigator?after=additions">
          <separator
                name="osate_begin"
                visible="true">
          </separator>
          <command
                commandId="org.osate.ui.reinstantiate">
             <visibleWhen
                   checkEnabled="true">
             </visibleWhen>
          </command>
          <command
                commandId="org.osate.ui.setAadlProjectProperties">
             <visibleWhen
                   checkEnabled="true">
             </visibleWhen>
          </command>
          <menu
                id="org.osate.ui.analysesNavigatorPopup"
                label="Analyses">
             <menu
                   id="org.osate.ui.budgetNavigatorPopup"
                   label="Budget">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.semanticChecksNavigatorPopup"
                   label="Semantic Checks">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.timingNavigatorPopup"
                   label="Timing">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.safetyNavigatorPopup"
                   label="Safety">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <separator
                   name="third_party">
             </separator>
          </menu>
          <menu
                id="org.osate.ui.reportGenerationNavigatorPopup"
                label="Report Generation">
             <separator
                   name="core">
             </separator>
             <separator
                   name="third_party">
             </separator>
          </menu>
          <separator
                name="osate_end"
                visible="true">
          </separator>
       </menuContribution>
       <menuContribution
             allPopups="false"
             locationURI="popup:org.eclipse.ui.projectConfigure?after=additions">
          <command
                commandId="org.osate.ui.conversion"
                label="%RemoveAADLNature.label"
                style="push">
             <visibleWhen>
                <with
                      variable="selection">
                   <and>
                      <count
                            value="1">
                      </count>
                      <iterate>
                         <and>
                            <instanceof
                                  value="org.eclipse.core.resources.IProject">
                            </instanceof>
                            <test
                                  property="org.eclipse.core.resources.open">
                            </test>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="org.osate.core.aadlnature">
                            </test>
                         </and>
                      </iterate>
                   </and>
                </with>
             </visibleWhen>
          </command>
          <command
                commandId="org.osate.ui.conversion"
                label="%EnableAADLNature.label">
             <visibleWhen>
                <with
                      variable="selection">
                   <and>
                      <count
                            value="1">
                      </count>
                      <iterate>
                         <and>
                            <instanceof
                                  value="org.eclipse.core.resources.IProject">
                            </instanceof>
                            <test
                                  property="org.eclipse.core.resources.open">
                            </test>
                            <not>
                               <test
                                     property="org.eclipse.core.resources.projectNature"
                                     value="org.osate.core.aadlnature">
                               </test>
                            </not>
                         </and>
                      </iterate>
                   </and>
                </with>
             </visibleWhen>
          </command>
       </menuContribution>
       <menuContribution
             locationURI="menu:org.eclipse.ui.main.menu?after=org.eclipse.ui.run">
          <menu
                id="org.osate.ui.osateMenu"
                label="OSATE">
             <visibleWhen
                   checkEnabled="false">
                <with
                      variable="activeWorkbenchWindow.activePerspective">
                   <equals
                         value="org.osate.ui.perspective.AadlPerspective">
                   </equals>
                </with>
             </visibleWhen>
             <menu
                   id="org.osate.ui.openWorkflowMenu"
                   label="Open Workflow">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.importExportMenu"
                   label="Import/Export">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.reportGenerationMenu"
                   label="Report Generation">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.ocarinaMenu"
                   label="Ocarina">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <command
                   commandId="org.osate.ui.reinstantiateAllAadl"
                   style="push">
             </command>
             <separator
                   name="generateTextual">
             </separator>
             <separator
                   name="third_party">
             </separator>
          </menu>
          <menu
                id="org.osate.ui.analysesMenu"
                label="Analyses">
             <visibleWhen
                   checkEnabled="false">
                <with
                      variable="activeWorkbenchWindow.activePerspective">
                   <equals
                         value="org.osate.ui.perspective.AadlPerspective">
                   </equals>
                </with>
             </visibleWhen>
             <menu
                   id="org.osate.ui.budgetMenu"
                   label="Budget">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.semanticChecksMenu"
                   label="Semantic Checks">
                <separator
                      name="core">
                </separator>
                <separator
                      name="code_generation"
                      visible="true">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.timingMenu"
                   label="Timing">
                <separator
                      name="core">
                </separator>
                <separator
                      name="workbench"
                      visible="true">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.safetyMenu"
                   label="Safety">
                <separator
                      name="core">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <menu
                   id="org.osate.ui.miscellaneousMenu"
                   label="Miscellaneous">
                <separator
                      name="workbench">
                </separator>
                <separator
                      name="third_party">
                </separator>
             </menu>
             <separator
                   name="third_party">
             </separator>
          </menu>
       </menuContribution>
       <menuContribution
             locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
          <toolbar
                id="org.osate.ui.osateWizardsToolbar"
                label="OSATE Wizards">
             <visibleWhen
                   checkEnabled="false">
                <with
                      variable="activeWorkbenchWindow.activePerspective">
                   <equals
                         value="org.osate.ui.perspective.AadlPerspective">
                   </equals>
                </with>
             </visibleWhen>
             <command
                   commandId="org.osate.ui.wizards.aadlProjectWizard"
                   tooltip="New AADL project">
                <!--
                   Remove visibleWhen on the command when this bug is fixed:
                   https://bugs.eclipse.org/bugs/show_bug.cgi?id=201589
                -->
                <visibleWhen
                      checkEnabled="false">
                   <with
                         variable="activeWorkbenchWindow.activePerspective">
                      <equals
                            value="org.osate.ui.perspective.AadlPerspective">
                      </equals>
                   </with>
                </visibleWhen>
             </command>
             <command
                   commandId="org.osate.ui.wizards.packageWizard"
                   tooltip="New AADL package">
                <!--
                   Remove visibleWhen on the command when this bug is fixed:
                   https://bugs.eclipse.org/bugs/show_bug.cgi?id=201589
                -->
                <visibleWhen
                      checkEnabled="false">
                   <with
                         variable="activeWorkbenchWindow.activePerspective">
                      <equals
                            value="org.osate.ui.perspective.AadlPerspective">
                      </equals>
                   </with>
                </visibleWhen>
             </command>
             <command
                   commandId="org.osate.ui.wizards.propertySetWizard"
                   tooltip="New AADL property set">
                <!--
                   Remove visibleWhen on the command when this bug is fixed:
                   https://bugs.eclipse.org/bugs/show_bug.cgi?id=201589
                -->
                <visibleWhen
                      checkEnabled="false">
                   <with
                         variable="activeWorkbenchWindow.activePerspective">
                      <equals
                            value="org.osate.ui.perspective.AadlPerspective">
                      </equals>
                   </with>
                </visibleWhen>
             </command>
             <separator
                   name="third_party">
             </separator>
          </toolbar>
          <toolbar
                id="org.osate.ui.budgetToolbar"
                label="Budget">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="org.osate.ui.perspective.AadlPerspective">
                  </equals>
               </with>
            </visibleWhen>
            <separator
                  name="core">
            </separator>
            <separator
                  name="third_party">
            </separator>
          </toolbar>
          <toolbar
                id="org.osate.ui.semanticChecksToolbar"
                label="Semantic Checks">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="org.osate.ui.perspective.AadlPerspective">
                  </equals>
               </with>
            </visibleWhen>
            <separator
                  name="core">
            </separator>
            <separator
                  name="code_generation"
                  visible="true">
            </separator>
            <separator
                  name="third_party">
            </separator>
          </toolbar>
          <toolbar
                id="org.osate.ui.timingToolbar"
                label="Timing">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="org.osate.ui.perspective.AadlPerspective">
                  </equals>
               </with>
            </visibleWhen>
            <separator
                  name="core">
            </separator>
            <separator
                  name="third_party">
            </separator>
          </toolbar>
          <toolbar
                id="org.osate.ui.safetyToolbar"
                label="Safety">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="org.osate.ui.perspective.AadlPerspective">
                  </equals>
               </with>
            </visibleWhen>
            <separator
                  name="core">
            </separator>
            <separator
                  name="third_party">
            </separator>
          </toolbar>
       </menuContribution>
    </extension>
    <extension
          point="org.eclipse.ui.commands">
       <command
             id="org.osate.ui.setAadlProjectProperties"
             name="Set As AADL_Project Property Set">
       </command>
       <command
             id="org.osate.ui.instantiate"
             name="Instantiate">
       </command>
       <command
             id="org.osate.ui.reinstantiate"
             name="Reinstantiate">
       </command>
       <command
             id="org.osate.ui.reinstantiateAllAadl"
             name="%ReinstantiateAllModelsAction.label">
       </command>
       <command
             id="org.osate.ui.conversion"
             name="Add/Remove AADL Nature">
       </command>
       <category
             id="org.osate.ui.wizards.category"
             name="OSATE Wizards">
       </category>
       <command
             categoryId="org.osate.ui.wizards.category"
             id="org.osate.ui.wizards.aadlProjectWizard"
             name="New AADL Project">
       </command>
       <command
             categoryId="org.osate.ui.wizards.category"
             id="org.osate.ui.wizards.packageWizard"
             name="New AADL Package">
       </command>
       <command
             categoryId="org.osate.ui.wizards.category"
             id="org.osate.ui.wizards.propertySetWizard"
             name="New AADL Property Set">
       </command>
    </extension>
    <extension
          point="org.eclipse.ui.handlers">
       <handler
             class="org.osate.ui.handlers.SetAadlProjectPropertiesHandler"
             commandId="org.osate.ui.setAadlProjectProperties">
          <enabledWhen>
             <with
                   variable="selection">
                <and>
                   <count
                         value="1">
                   </count>
                   <iterate
                         ifEmpty="false">
                      <reference
                            definitionId="org.osate.is_aadl_project_propertyset">
                      </reference>
                   </iterate>
                </and>
             </with>
          </enabledWhen>
       </handler>
       <handler
             class="org.osate.ui.handlers.InstantiateHandler"
             commandId="org.osate.ui.instantiate">
          <enabledWhen>
             <with
                   variable="selection">
                <and>
                   <count
                         value="1">
                   </count>
                   <iterate>
                      <and>
                         <test
                               property="org.osate.ui.superType"
                               value="ComponentImplementation"
                               forcePluginActivation="true">
                         </test>
                         <not>
                            <test
                                  property="org.osate.ui.superType"
                                  value="SubprogramImplementation"
                                  forcePluginActivation="true">
                            </test>
                         </not>
                         <not>
                            <test
                                  property="org.osate.ui.superType"
                                  value="SubprogramGroupImplementation"
                                  forcePluginActivation="true">
                            </test>
                         </not>
                      </and>
                   </iterate>
                </and>
             </with>
          </enabledWhen>
       </handler>
       <handler
             commandId="org.osate.ui.reinstantiate"
             class="org.osate.ui.handlers.ReinstantiateHandler">
          <enabledWhen>
             <reference
                   definitionId="org.osate.core.isInstanceFileSelected">
             </reference>
          </enabledWhen>
       </handler>
       <handler
             class="org.osate.ui.handlers.ReinstantiateAadl"
             commandId="org.osate.ui.reinstantiateAllAadl">
       </handler>
       <handler
             class="org.osate.ui.handlers.ConversionHandler"
             commandId="org.osate.ui.conversion">
       </handler>
       <handler
            class="org.osate.ui.handlers.WizardLauncherHandler"
            commandId="org.osate.ui.wizards.aadlProjectWizard">
      </handler>
      <handler
            class="org.osate.ui.handlers.NewPackageWizardHandler"
            commandId="org.osate.ui.wizards.packageWizard">
      </handler>
      <handler
            class="org.osate.ui.handlers.NewPropertySetWizardHandler"
            commandId="org.osate.ui.wizards.propertySetWizard">
      </handler>
    </extension>
    <extension
          point="org.eclipse.ui.commandImages">
       <image
             commandId="org.osate.ui.reinstantiateAllAadl"
             icon="icons/reinstantiate.gif">
       </image>
       <image
            commandId="org.osate.ui.wizards.aadlProjectWizard"
            icon="icons/new_aadl_project.gif">
      </image>
      <image
            commandId="org.osate.ui.wizards.packageWizard"
            icon="icons/new_package.gif">
      </image>
      <image
            commandId="org.osate.ui.wizards.propertySetWizard"
            icon="icons/new_ps.gif">
      </image>
    </extension>
    <extension
          point="org.eclipse.core.expressions.propertyTesters">
       <propertyTester
             class="org.osate.ui.handlers.ContributedAadlStoragePropertyTester"
             id="org.osate.ui.ContributedAadlStoragePropertyTester"
             namespace="org.osate.ui"
             properties="name"
             type="org.osate.xtext.aadl2.ui.resource.ContributedAadlStorage">
       </propertyTester>
       
       <propertyTester
       		class="org.osate.ui.handlers.EObjectNodeAadlSuperTypePropertyTester"
            id="org.osate.ui.EObjectSuperTypePropertyTester"
            namespace="org.osate.ui"
            properties="superType"
            type="org.eclipse.xtext.ui.editor.outline.impl.EObjectNode">
       </propertyTester>
    </extension>
</plugin>
